{
  "resourceType": "StructureDefinition",
  "id": "tiers-profile",
  "url": "https://www.cpage.fr/ig/masterdata/tiers/StructureDefinition/tiers-profile",
  "name": "TiersProfile",
  "title": "Tiers (générique)",
  "status": "draft",
  "description": "Profil générique pour la notion de Tiers (commun débiteur/fournisseur), basé sur FR Core Organization. Ce profil hérite des slices identifier déjà définis par FR Core (SIREN, SIRET, FINESS) et ajoute l'identifiant interne ETIER ainsi que la TVA intracommunautaire.",
  "fhirVersion": "4.0.1",
  "kind": "resource",
  "abstract": false,
  "type": "Organization",
  "baseDefinition": "https://hl7.fr/ig/fhir/core/StructureDefinition/fr-core-organization",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Organization.extension:tiersRole",
        "path": "Organization.extension",
        "sliceName": "tiersRole",
        "short": "Rôle(s) du tiers",
        "definition": "Rôle(s) générique(s) du tiers : fournisseur (supplier) si présent dans ECO.FOU, débiteur (debtor) si présent dans ECO.DBT.",
        "min": 0,
        "max": "*",
        "type": [
          {
            "code": "Extension",
            "profile": [
              "https://www.cpage.fr/ig/masterdata/tiers/StructureDefinition/tiers-role-extension"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "id": "Organization.identifier",
        "path": "Organization.identifier",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Organization.identifier.system",
        "path": "Organization.identifier.system",
        "mustSupport": true
      },
      {
        "id": "Organization.identifier.value",
        "path": "Organization.identifier.value",
        "mustSupport": true
      },
      {
        "id": "Organization.identifier:idNatSt",
        "path": "Organization.identifier",
        "sliceName": "idNatSt"
      },
      {
        "id": "Organization.identifier:idNatSt.system",
        "path": "Organization.identifier.system",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Organization.identifier:idNatSt.value",
        "path": "Organization.identifier.value",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Organization.identifier:siren",
        "path": "Organization.identifier",
        "sliceName": "siren"
      },
      {
        "id": "Organization.identifier:siren.system",
        "path": "Organization.identifier.system",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Organization.identifier:siren.value",
        "path": "Organization.identifier.value",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Organization.identifier:siret",
        "path": "Organization.identifier",
        "sliceName": "siret"
      },
      {
        "id": "Organization.identifier:siret.system",
        "path": "Organization.identifier.system",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Organization.identifier:siret.value",
        "path": "Organization.identifier.value",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Organization.identifier:finess",
        "path": "Organization.identifier",
        "sliceName": "finess"
      },
      {
        "id": "Organization.identifier:finess.system",
        "path": "Organization.identifier.system",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Organization.identifier:finess.value",
        "path": "Organization.identifier.value",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Organization.identifier:adeliRang",
        "path": "Organization.identifier",
        "sliceName": "adeliRang"
      },
      {
        "id": "Organization.identifier:adeliRang.system",
        "path": "Organization.identifier.system",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Organization.identifier:adeliRang.value",
        "path": "Organization.identifier.value",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Organization.identifier:rppsRang",
        "path": "Organization.identifier",
        "sliceName": "rppsRang"
      },
      {
        "id": "Organization.identifier:rppsRang.system",
        "path": "Organization.identifier.system",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Organization.identifier:rppsRang.value",
        "path": "Organization.identifier.value",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Organization.identifier:etierId",
        "path": "Organization.identifier",
        "sliceName": "etierId",
        "short": "Identifiant interne du tiers (IDTITI)",
        "definition": "Identifiant unique interne du tiers issu de la table ECO.ETIER (champ IDTITI).",
        "min": 1,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Organization.identifier:etierId.type",
        "path": "Organization.identifier.type",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "RI",
              "system": "http://terminology.hl7.org/CodeSystem/v2-0203",
              "display": "Resource identifier"
            }
          ]
        }
      },
      {
        "id": "Organization.identifier:etierId.system",
        "path": "Organization.identifier.system",
        "fixedUri": "urn:oid:1.2.250.1.999.1.1.1"
      },
      {
        "id": "Organization.identifier:tva",
        "path": "Organization.identifier",
        "sliceName": "tva",
        "short": "Numéro de TVA intracommunautaire",
        "definition": "Numéro de TVA intracommunautaire du tiers (champ TVAITI).",
        "min": 0,
        "max": "1",
        "mustSupport": true
      },
      {
        "id": "Organization.identifier:tva.type",
        "path": "Organization.identifier.type",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "TAX",
              "system": "http://terminology.hl7.org/CodeSystem/v2-0203",
              "display": "Tax ID number"
            }
          ]
        }
      },
      {
        "id": "Organization.identifier:tva.system",
        "path": "Organization.identifier.system",
        "fixedUri": "urn:oid:1.2.250.1.999.1.1.5"
      },
      {
        "id": "Organization.active",
        "path": "Organization.active",
        "short": "Tiers actif",
        "definition": "Indique si le tiers est actif. Peut être mappé depuis ECO.ETIER.VALITI (V=true, I=false).",
        "mustSupport": true
      },
      {
        "id": "Organization.name",
        "path": "Organization.name",
        "short": "Raison sociale / nom du tiers",
        "definition": "Nom officiel du tiers (ECO.ETIER.NORSTI).",
        "min": 1,
        "mustSupport": true
      },
      {
        "id": "Organization.alias",
        "path": "Organization.alias",
        "short": "Nom complémentaire",
        "definition": "Nom complémentaire ou alternatif du tiers (ECO.ETIER.COMPTI).",
        "mustSupport": true
      },
      {
        "id": "Organization.telecom",
        "path": "Organization.telecom",
        "short": "Contacts téléphoniques et emails",
        "mustSupport": true
      },
      {
        "id": "Organization.address",
        "path": "Organization.address",
        "short": "Adresse du siège",
        "mustSupport": true
      }
    ]
  }
}
