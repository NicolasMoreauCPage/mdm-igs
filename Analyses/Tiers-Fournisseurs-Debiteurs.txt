ma table des tiers : CREATE TABLE "ECO"."ETIER" ( "IDTITI" VARCHAR2(6 BYTE) NOT NULL ENABLE, "NORSTI" VARCHAR2(38 BYTE) NOT NULL ENABLE, "COMPTI" VARCHAR2(38 BYTE), "ROLETI" VARCHAR2(1 BYTE) NOT NULL ENABLE, "VALITI" VARCHAR2(1 BYTE) DEFAULT 'V' NOT NULL ENABLE, "CIVITI" VARCHAR2(10 BYTE), "PRENTI" VARCHAR2(38 BYTE), "CATGTI" VARCHAR2(2 BYTE) DEFAULT '00' NOT NULL ENABLE, "NATJTI" VARCHAR2(2 BYTE) DEFAULT '00' NOT NULL ENABLE, "CSIRTI" VARCHAR2(14 BYTE), "CSINTI" VARCHAR2(9 BYTE), "CFINTI" VARCHAR2(9 BYTE), "CNIRTI" VARCHAR2(15 BYTE), "TVAITI" VARCHAR2(18 BYTE), "HSUETI" VARCHAR2(18 BYTE), "CRIDTI" VARCHAR2(10 BYTE), "IDTGTI" VARCHAR2(2 BYTE), "AL1STI" VARCHAR2(38 BYTE), "AL2STI" VARCHAR2(38 BYTE), "AL3STI" VARCHAR2(38 BYTE), "CPOSTI" VARCHAR2(5 BYTE), "BDISTI" VARCHAR2(38 BYTE), "TELETI" VARCHAR2(17 BYTE), "TELXTI" VARCHAR2(17 BYTE), "TELCTI" VARCHAR2(17 BYTE), "MAILTI" VARCHAR2(60 BYTE), "EUROTI" VARCHAR2(1 BYTE) DEFAULT 'A' NOT NULL ENABLE, "PAYSTI" VARCHAR2(3 BYTE), "SITETI" VARCHAR2(40 BYTE), "LABOTI" VARCHAR2(1 BYTE) DEFAULT 'N' NOT NULL ENABLE, "LOCATI" VARCHAR2(1 BYTE) DEFAULT 'N' NOT NULL ENABLE, "AGENTI" VARCHAR2(1 BYTE) DEFAULT 'N' NOT NULL ENABLE, "HOSPTI" VARCHAR2(1 BYTE) DEFAULT 'N' NOT NULL ENABLE, "NOMATI" VARCHAR2(20 BYTE), "NOPATI" VARCHAR2(20 BYTE), "FACBTI" VARCHAR2(1 BYTE) DEFAULT 'N', "TRLSTI" VARCHAR2(1 BYTE) DEFAULT 'N', CONSTRAINT "ECO_ETIER_TRLSTI_CK" CHECK (TRLSTI in ('N','O')) ENABLE, CONSTRAINT "ECO_ETIER_FACBTI_CK" CHECK (FACBTI in ('N','O')) ENABLE, CONSTRAINT "CHECK_LABOTI" CHECK (laboti IN ( 'O', 'N' )) ENABLE, CONSTRAINT "CHECK_LOCATI" CHECK (locati IN ( 'O', 'N' )) ENABLE, CONSTRAINT "CHECK_AGENTI" CHECK (agenti IN ( 'O', 'N' )) ENABLE, CONSTRAINT "CHECK_HOSPTI" CHECK (hospti IN ( 'O', 'N' )) ENABLE, CONSTRAINT "ETIER_ROLETI_CK" CHECK (ROLETI in ('T','F','D')) ENABLE, CONSTRAINT "ETIER_IDTGTI_CK" CHECK (IDTGTI is null or IDTGTI between '01' and '09') ENABLE, CONSTRAINT "ETIER_VALITI_CK" CHECK (VALITI IN ( 'V' , 'I') ) ENABLE, CONSTRAINT "EUROTI_CK" CHECK (EUROTI IN ('F', 'O', 'A')) ENABLE, CONSTRAINT "ETIER_PK" PRIMARY KEY ("IDTITI") USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) TABLESPACE "ECO" ENABLE ) SEGMENT CREATION IMMEDIATE PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) TABLESPACE "ECO" ; COMMENT ON COLUMN "ECO"."ETIER"."IDTITI" IS 'Identifiant du tiers'; COMMENT ON COLUMN "ECO"."ETIER"."NORSTI" IS 'Nom / raison sociale'; COMMENT ON COLUMN "ECO"."ETIER"."COMPTI" IS 'Complément Nom/raison sociale'; COMMENT ON COLUMN "ECO"."ETIER"."ROLETI" IS 'Rôle du tiers (T/F/D)'; COMMENT ON COLUMN "ECO"."ETIER"."VALITI" IS 'Code validité tiers'; COMMENT ON COLUMN "ECO"."ETIER"."CIVITI" IS 'Civilité du tiers'; COMMENT ON COLUMN "ECO"."ETIER"."PRENTI" IS 'Prénom du tiers'; COMMENT ON COLUMN "ECO"."ETIER"."CATGTI" IS 'Catégorie TG'; COMMENT ON COLUMN "ECO"."ETIER"."NATJTI" IS 'Nature juridique'; COMMENT ON COLUMN "ECO"."ETIER"."CSIRTI" IS 'Code SIRET'; COMMENT ON COLUMN "ECO"."ETIER"."CSINTI" IS 'Code SIREN'; COMMENT ON COLUMN "ECO"."ETIER"."CFINTI" IS 'Code FINESS'; COMMENT ON COLUMN "ECO"."ETIER"."CNIRTI" IS 'Code NIR'; COMMENT ON COLUMN "ECO"."ETIER"."TVAITI" IS 'Numéro de TVA intracommunautaire'; COMMENT ON COLUMN "ECO"."ETIER"."HSUETI" IS 'Indentifiant du tiers hors UE'; COMMENT ON COLUMN "ECO"."ETIER"."CRIDTI" IS 'Code RIDET (NOUMEA)'; COMMENT ON COLUMN "ECO"."ETIER"."IDTGTI" IS 'Identifiant TG'; COMMENT ON COLUMN "ECO"."ETIER"."AL1STI" IS 'Adr. siege No et Rue'; COMMENT ON COLUMN "ECO"."ETIER"."AL2STI" IS 'Adr. siege Complement'; COMMENT ON COLUMN "ECO"."ETIER"."AL3STI" IS 'Adr. siege Service'; COMMENT ON COLUMN "ECO"."ETIER"."CPOSTI" IS 'Adr. siege Code postal'; COMMENT ON COLUMN "ECO"."ETIER"."BDISTI" IS 'Adr. siege Bureau distributeur'; COMMENT ON COLUMN "ECO"."ETIER"."TELETI" IS 'No de telephone'; COMMENT ON COLUMN "ECO"."ETIER"."TELXTI" IS 'No de telex'; COMMENT ON COLUMN "ECO"."ETIER"."TELCTI" IS 'No de telecopie'; COMMENT ON COLUMN "ECO"."ETIER"."MAILTI" IS 'Adresse Electronique'; COMMENT ON COLUMN "ECO"."ETIER"."EUROTI" IS 'Tiers européen (France-F / Europe-O / Autre-A)'; COMMENT ON COLUMN "ECO"."ETIER"."PAYSTI" IS 'Pays'; COMMENT ON COLUMN "ECO"."ETIER"."SITETI" IS 'Site internet'; COMMENT ON COLUMN "ECO"."ETIER"."LABOTI" IS 'Débiteur laboratoire (oui/non) (Facturation des Actes de Biologie)'; COMMENT ON COLUMN "ECO"."ETIER"."LOCATI" IS 'Débiteur locataire (oui/non)'; COMMENT ON COLUMN "ECO"."ETIER"."AGENTI" IS 'Débiteur agent (oui/non)'; COMMENT ON COLUMN "ECO"."ETIER"."HOSPTI" IS 'Débiteur hospitalier (oui/non)'; COMMENT ON COLUMN "ECO"."ETIER"."NOMATI" IS 'Numéro de matricule'; COMMENT ON COLUMN "ECO"."ETIER"."NOPATI" IS 'Numéro de dossier patient'; COMMENT ON COLUMN "ECO"."ETIER"."FACBTI" IS 'Facturation des Actes de Biologie'; COMMENT ON COLUMN "ECO"."ETIER"."TRLSTI" IS 'Liquidation souple (par défaut) autorisée'; COMMENT ON TABLE "ECO"."ETIER" IS 'Tiers'; CREATE INDEX "ECO"."NORSTI" ON "ECO"."ETIER" ("NORSTI") PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) TABLESPACE "ECO" ;

ma table des debiteurs : CREATE TABLE "ECO"."DBT" ( "IDEBDT" VARCHAR2(6 BYTE) NOT NULL ENABLE, "NOM1DT" VARCHAR2(38 BYTE) NOT NULL ENABLE, "NOM2DT" VARCHAR2(38 BYTE), "ADL1DT" VARCHAR2(38 BYTE), "ADL2DT" VARCHAR2(38 BYTE), "ADL3DT" VARCHAR2(38 BYTE), "CPOSDT" VARCHAR2(5 BYTE), "BUDIDT" VARCHAR2(38 BYTE), "NTELDT" VARCHAR2(17 BYTE), "TYPEDT" VARCHAR2(1 BYTE) NOT NULL ENABLE, "LBTIDT" VARCHAR2(1 BYTE) NOT NULL ENABLE, "CPTIDT" VARCHAR2(10 BYTE) NOT NULL ENABLE, "TYDBDT" VARCHAR2(1 BYTE), "RESIDT" VARCHAR2(1 BYTE) DEFAULT 'R' NOT NULL ENABLE, "SIREDT" VARCHAR2(14 BYTE), "INVADT" VARCHAR2(1 BYTE) DEFAULT 'V' NOT NULL ENABLE, "PAYSDT" VARCHAR2(3 BYTE), "MAILDT" VARCHAR2(60 BYTE), "CREGDT" VARCHAR2(10 BYTE), "NATJDT" VARCHAR2(2 BYTE) DEFAULT '00' NOT NULL ENABLE, "CATGDT" VARCHAR2(2 BYTE) DEFAULT '00' NOT NULL ENABLE, "CIVIDT" VARCHAR2(10 BYTE), "PRENDT" VARCHAR2(38 BYTE), "CSINDT" VARCHAR2(9 BYTE), "CFINDT" VARCHAR2(9 BYTE), "CNIRDT" VARCHAR2(15 BYTE), "NUFODT" VARCHAR2(6 BYTE), "IDEXDT" VARCHAR2(20 BYTE), "ASAPDT" VARCHAR2(1 BYTE) DEFAULT 'N' NOT NULL ENABLE, "ETIER_IDTITI" VARCHAR2(6 BYTE), "DINTDT" DATE, "FCENDT" VARCHAR2(1 BYTE) DEFAULT 'N' NOT NULL ENABLE, "IDTGDT" VARCHAR2(2 BYTE), CONSTRAINT "DBT_INVADT_CK" CHECK (invadt in ('I','V')) ENABLE, CONSTRAINT "DBT_RESIDT_CK" CHECK (residt IN ('R', 'N', 'E')) ENABLE, CONSTRAINT "DBT_PK" PRIMARY KEY ("IDEBDT") USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) TABLESPACE "ECO" ENABLE, CHECK ( typedt IN ( 'N' , 'O' ) ) ENABLE, CONSTRAINT "DBT_ETDB_FK" FOREIGN KEY ("TYDBDT") REFERENCES "ECO"."ETDB" ("CTYPDB") ENABLE, CONSTRAINT "DBT_ETIER_FK" FOREIGN KEY ("ETIER_IDTITI") REFERENCES "ECO"."ETIER" ("IDTITI") ENABLE ) SEGMENT CREATION IMMEDIATE PCTFREE 20 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) TABLESPACE "ECO" ; COMMENT ON COLUMN "ECO"."DBT"."IDEBDT" IS 'Id. du debiteur'; COMMENT ON COLUMN "ECO"."DBT"."NOM1DT" IS 'Nom ou raison sociale'; COMMENT ON COLUMN "ECO"."DBT"."NOM2DT" IS 'Complement nom/raison sociale'; COMMENT ON COLUMN "ECO"."DBT"."ADL1DT" IS 'Complement adresse'; COMMENT ON COLUMN "ECO"."DBT"."ADL2DT" IS 'No et rue'; COMMENT ON COLUMN "ECO"."DBT"."ADL3DT" IS 'Commune'; COMMENT ON COLUMN "ECO"."DBT"."CPOSDT" IS 'Code postal'; COMMENT ON COLUMN "ECO"."DBT"."BUDIDT" IS 'Bureau distributeur'; COMMENT ON COLUMN "ECO"."DBT"."NTELDT" IS 'No de telephone'; COMMENT ON COLUMN "ECO"."DBT"."TYPEDT" IS 'Type (Normal,Occasionnel)'; COMMENT ON COLUMN "ECO"."DBT"."LBTIDT" IS 'Lettre budgetaire'; COMMENT ON COLUMN "ECO"."DBT"."CPTIDT" IS 'No du compte de tiers'; COMMENT ON COLUMN "ECO"."DBT"."TYDBDT" IS 'Catégorie'; COMMENT ON COLUMN "ECO"."DBT"."RESIDT" IS 'Code Resident ou non en France'; COMMENT ON COLUMN "ECO"."DBT"."SIREDT" IS 'Code SIRET'; COMMENT ON COLUMN "ECO"."DBT"."INVADT" IS 'Code Validite'; COMMENT ON COLUMN "ECO"."DBT"."PAYSDT" IS 'Pays'; COMMENT ON COLUMN "ECO"."DBT"."MAILDT" IS 'Adresse électronique'; COMMENT ON COLUMN "ECO"."DBT"."CREGDT" IS 'Code Régie'; COMMENT ON COLUMN "ECO"."DBT"."NATJDT" IS 'Nature Juridique'; COMMENT ON COLUMN "ECO"."DBT"."CATGDT" IS 'Catégorie TG'; COMMENT ON COLUMN "ECO"."DBT"."CIVIDT" IS 'Civilité'; COMMENT ON COLUMN "ECO"."DBT"."PRENDT" IS 'Prénom'; COMMENT ON COLUMN "ECO"."DBT"."CSINDT" IS 'Code Siren'; COMMENT ON COLUMN "ECO"."DBT"."CFINDT" IS 'Code Finess'; COMMENT ON COLUMN "ECO"."DBT"."CNIRDT" IS 'Code NIR'; COMMENT ON COLUMN "ECO"."DBT"."NUFODT" IS 'Fournisseur associé'; COMMENT ON COLUMN "ECO"."DBT"."IDEXDT" IS 'Identifiant Externe du débiteur'; COMMENT ON COLUMN "ECO"."DBT"."ASAPDT" IS 'Ne pas générer d''ASAP dématérialisé O/N'; COMMENT ON COLUMN "ECO"."DBT"."ETIER_IDTITI" IS 'Identifiant Tiers'; COMMENT ON COLUMN "ECO"."DBT"."DINTDT" IS 'Date d''intégration du débiteur externe'; COMMENT ON COLUMN "ECO"."DBT"."FCENDT" IS 'Forcer une impression au Centre d''Editique National'; COMMENT ON COLUMN "ECO"."DBT"."IDTGDT" IS 'Identifiant TG'; COMMENT ON TABLE "ECO"."DBT" IS 'Debiteurs des Titres de Recettes'; CREATE OR REPLACE TRIGGER "ECO"."ET_DBT_A_R_IUD_H" AFTER DELETE OR INSERT OR UPDATE ON ECO.DBT REFERENCING NEW AS NEW OLD AS OLD FOR EACH ROW WHEN ( ( upper(USER) != 'CPAGE' or (upper(USER) = 'CPAGE' and sys_context('userenv','client_identifier') is not null) ) ) DECLARE IdRevision Number := EPK_TRACE.recupIdRevision; TpRevision Number(1); BEGIN IF (Deleting) THEN INSERT INTO DBT_H(IDRVN, TYPERVN, IDEBDT,NOM1DT,NOM2DT,ADL1DT,ADL2DT,ADL3DT,CPOSDT,BUDIDT, NTELDT,TYPEDT,LBTIDT,CPTIDT,TYDBDT,RESIDT,SIREDT,INVADT, PAYSDT,MAILDT,CREGDT,NATJDT,CATGDT,CIVIDT,PRENDT,CSINDT, CFINDT,CNIRDT,IDTGDT,NUFODT,IDEXDT,ASAPDT,DINTDT,ETIER_IDTITI, FCENDT) values (IdRevision,2, :old.IDEBDT,:old.NOM1DT,:old.NOM2DT,:old.ADL1DT,:old.ADL2DT,:old.ADL3DT,:old.CPOSDT,:old.BUDIDT, :old.NTELDT,:old.TYPEDT,:old.LBTIDT,:old.CPTIDT,:old.TYDBDT,:old.RESIDT,:old.SIREDT,:old.INVADT, :old.PAYSDT,:old.MAILDT,:old.CREGDT,:old.NATJDT,:old.CATGDT,:old.CIVIDT,:old.PRENDT,:old.CSINDT, :old.CFINDT,:old.CNIRDT,:old.IDTGDT,:old.NUFODT,:old.IDEXDT,:old.ASAPDT,:old.DINTDT,:old.ETIER_IDTITI, :old.FCENDT); ELSE if (inserting) then tprevision := 0; else tprevision := 1; end if; INSERT INTO DBT_H(IDRVN, TYPERVN, IDEBDT,NOM1DT,NOM2DT,ADL1DT,ADL2DT,ADL3DT,CPOSDT,BUDIDT, NTELDT,TYPEDT,LBTIDT,CPTIDT,TYDBDT,RESIDT,SIREDT,INVADT, PAYSDT,MAILDT,CREGDT,NATJDT,CATGDT,CIVIDT,PRENDT,CSINDT, CFINDT,CNIRDT,IDTGDT,NUFODT,IDEXDT,ASAPDT,DINTDT,ETIER_IDTITI, FCENDT) values (IdRevision,tprevision, :new.IDEBDT,:new.NOM1DT,:new.NOM2DT,:new.ADL1DT,:new.ADL2DT,:new.ADL3DT,:new.CPOSDT,:new.BUDIDT, :new.NTELDT,:new.TYPEDT,:new.LBTIDT,:new.CPTIDT,:new.TYDBDT,:new.RESIDT,:new.SIREDT,:new.INVADT, :new.PAYSDT,:new.MAILDT,:new.CREGDT,:new.NATJDT,:new.CATGDT,:new.CIVIDT,:new.PRENDT,:new.CSINDT, :new.CFINDT,:new.CNIRDT,:new.IDTGDT,:new.NUFODT,:new.IDEXDT,:new.ASAPDT,:new.DINTDT,:new.ETIER_IDTITI, :new.FCENDT); END IF; END ET_DBT_A_R_IUD_H; / ALTER TRIGGER "ECO"."ET_DBT_A_R_IUD_H" ENABLE; GRANT FLASHBACK ON "ECO"."DBT" TO PUBLIC WITH GRANT OPTION; GRANT DEBUG ON "ECO"."DBT" TO PUBLIC WITH GRANT OPTION; GRANT QUERY REWRITE ON "ECO"."DBT" TO PUBLIC WITH GRANT OPTION; GRANT ON COMMIT REFRESH ON "ECO"."DBT" TO PUBLIC WITH GRANT OPTION; GRANT REFERENCES ON "ECO"."DBT" TO PUBLIC WITH GRANT OPTION; GRANT UPDATE ON "ECO"."DBT" TO PUBLIC WITH GRANT OPTION; GRANT SELECT ON "ECO"."DBT" TO PUBLIC WITH GRANT OPTION; GRANT INSERT ON "ECO"."DBT" TO PUBLIC WITH GRANT OPTION; GRANT INDEX ON "ECO"."DBT" TO PUBLIC WITH GRANT OPTION; GRANT DELETE ON "ECO"."DBT" TO PUBLIC WITH GRANT OPTION; GRANT ALTER ON "ECO"."DBT" TO PUBLIC WITH GRANT OPTION;

Ma table des fournisseurs : CREATE TABLE "ECO"."FOU" ( "NUFOFO" VARCHAR2(6 BYTE) NOT NULL ENABLE, "LIFOFO" VARCHAR2(38 BYTE) NOT NULL ENABLE, "AL1SFO" VARCHAR2(38 BYTE), "AL2SFO" VARCHAR2(38 BYTE), "CPOSFO" VARCHAR2(5 BYTE), "BDISFO" VARCHAR2(38 BYTE), "TELEFO" VARCHAR2(17 BYTE), "LBU6FO" VARCHAR2(1 BYTE) NOT NULL ENABLE, "CPT6FO" VARCHAR2(10 BYTE) NOT NULL ENABLE, "LBU2FO" VARCHAR2(1 BYTE) NOT NULL ENABLE, "CPT2FO" VARCHAR2(10 BYTE) NOT NULL ENABLE, "CSIRFO" VARCHAR2(14 BYTE), "TELXFO" VARCHAR2(17 BYTE), "TELCFO" VARCHAR2(17 BYTE), "NUCLFO" VARCHAR2(12 BYTE), "TYFOFO" VARCHAR2(1 BYTE) NOT NULL ENABLE, "TRTXFO" NUMBER(5,2) DEFAULT 0, "COPRFO" VARCHAR2(1 BYTE) NOT NULL ENABLE, "DEPAFO" NUMBER(3,0), "MTMIFO" NUMBER(15,2) DEFAULT 0, "VALIFO" VARCHAR2(1 BYTE) DEFAULT 'V' NOT NULL ENABLE, "ESCOFO" VARCHAR2(1 BYTE) DEFAULT 'N', "MUNHFO" VARCHAR2(16 BYTE), "COM1FO" VARCHAR2(60 BYTE), "COM2FO" VARCHAR2(60 BYTE), "COM3FO" VARCHAR2(60 BYTE), "CATEFO" VARCHAR2(2 BYTE), "TCMPFO" VARCHAR2(1 BYTE) DEFAULT 'O' NOT NULL ENABLE, "GACHFO" VARCHAR2(1 BYTE) DEFAULT 'N' NOT NULL ENABLE, "MAILFO" VARCHAR2(60 BYTE), "EDCOFO" VARCHAR2(1 BYTE) DEFAULT 'N', "EXTRFO" VARCHAR2(1 BYTE) DEFAULT 'N', "MAJ_FO" VARCHAR2(1 BYTE) DEFAULT 'N', "RAFPFO" VARCHAR2(80 BYTE), "HONOFO" VARCHAR2(1 BYTE) DEFAULT 'N' NOT NULL ENABLE, "EUROFO" VARCHAR2(1 BYTE) DEFAULT 'A' NOT NULL ENABLE, "CREGFO" VARCHAR2(10 BYTE), "CATGFO" VARCHAR2(2 BYTE) DEFAULT '00' NOT NULL ENABLE, "NATJFO" VARCHAR2(2 BYTE) DEFAULT '00' NOT NULL ENABLE, "CSINFO" VARCHAR2(9 BYTE), "CFINFO" VARCHAR2(9 BYTE), "CNIRFO" VARCHAR2(15 BYTE), "IDTGFO" VARCHAR2(2 BYTE), "PRENFO" VARCHAR2(38 BYTE), "AL3SFO" VARCHAR2(38 BYTE), "PAYSFO" VARCHAR2(3 BYTE), "NUDBFO" VARCHAR2(6 BYTE), "CIVIFO" VARCHAR2(10 BYTE), "SITEFO" VARCHAR2(40 BYTE), "NOTEFO" NUMBER(4,2), "NOAGFO" VARCHAR2(17 BYTE), "IDFAFO" VARCHAR2(20 BYTE), "CHORFO" VARCHAR2(1 BYTE) DEFAULT 'N', "TIDCFO" VARCHAR2(2 BYTE), "IDCHFO" VARCHAR2(18 BYTE), "CRIDFO" VARCHAR2(10 BYTE), "TVAIFO" VARCHAR2(18 BYTE), "HSUEFO" VARCHAR2(18 BYTE), "ETIER_IDTITI" VARCHAR2(6 BYTE), "JOSPFO" NUMBER(2,0), "DINTFO" DATE, CONSTRAINT "CK_IDTGFO" CHECK (idtgfo is null or idtgfo between '01' and '09') ENABLE, CONSTRAINT "AVCON_1051692307_EDCOF_000" CHECK (EDCOFO IN ('O', 'N')) ENABLE, CONSTRAINT "FOU_CPT2FO_CK1" CHECK (SUBSTR(CPT2FO,1,1) IN ('1','2','3','4','5')) ENABLE, CONSTRAINT "FOU_CPT6FO_CK1" CHECK (SUBSTR(CPT6FO,1,1) IN ('1','2','3','4','5')) ENABLE, CHECK (chorfo in ('O','N')) ENABLE, CHECK (chorfo in ('O','N')) ENABLE, CHECK (chorfo in ('O','N')) ENABLE, CONSTRAINT "AVCON_1026147470_TCMPF_000" CHECK (TCMPFO IN ('O', 'N')) ENABLE, CONSTRAINT "AVCON_1026147470_GACHF_000" CHECK (GACHFO IN ('O', 'N')) ENABLE, CONSTRAINT "AVCON_1072086318_EXTRF_000" CHECK (EXTRFO IN ('O', 'N')) ENABLE, CONSTRAINT "AVCON_1072086318_MAJ_F_000" CHECK (MAJ_FO IN ('O', 'N')) ENABLE, CHECK ( escofo IN ( 'O' , 'N' ) ) ENABLE, CONSTRAINT "FOU_PK" PRIMARY KEY ("NUFOFO") USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 131072 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) TABLESPACE "ECO" ENABLE, CONSTRAINT "FOU_NUFOFO_CK" CHECK ( length(nufofo)=6 ) ENABLE, CHECK ( tyfofo IN ( 'F' , 'T' , 'R' , 'P' ) ) ENABLE, CHECK ( trtxfo BETWEEN 0 AND 100 ) ENABLE, CHECK ( depafo BETWEEN 0 AND 999 ) ENABLE, CHECK ( mtmifo BETWEEN 0 AND 9999999999999.99 ) ENABLE, CHECK ( valifo IN ( 'V' , 'I' ) ) ENABLE, CONSTRAINT "FOU_ETIER_FK" FOREIGN KEY ("ETIER_IDTITI") REFERENCES "ECO"."ETIER" ("IDTITI") ENABLE, CONSTRAINT "FOU_EURG_FK" FOREIGN KEY ("COPRFO") REFERENCES "ECO"."EURG" ("CODURG") ENABLE, CONSTRAINT "FOU_ECFO_FK" FOREIGN KEY ("CATEFO") REFERENCES "ECO"."ECFO" ("CODCFO") ENABLE ) SEGMENT CREATION IMMEDIATE PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING STORAGE(INITIAL 1048576 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) TABLESPACE "ECO" ; COMMENT ON COLUMN "ECO"."FOU"."NUFOFO" IS 'No de fournisseur'; COMMENT ON COLUMN "ECO"."FOU"."LIFOFO" IS 'Libelle du fournisseur'; COMMENT ON COLUMN "ECO"."FOU"."AL1SFO" IS 'Adr. siege (No et Rue)'; COMMENT ON COLUMN "ECO"."FOU"."AL2SFO" IS 'Adr. siege (Complement)'; COMMENT ON COLUMN "ECO"."FOU"."CPOSFO" IS 'Adr. siege (Code postal)'; COMMENT ON COLUMN "ECO"."FOU"."BDISFO" IS 'Adr. siege (Bureau distributeur)'; COMMENT ON COLUMN "ECO"."FOU"."TELEFO" IS 'No de telephone'; COMMENT ON COLUMN "ECO"."FOU"."LBU6FO" IS 'Lettre bud. classe 6'; COMMENT ON COLUMN "ECO"."FOU"."CPT6FO" IS 'Compte de tiers classe 6'; COMMENT ON COLUMN "ECO"."FOU"."LBU2FO" IS 'Lettre bud. classe 2'; COMMENT ON COLUMN "ECO"."FOU"."CPT2FO" IS 'Compte de tiers classe 2'; COMMENT ON COLUMN "ECO"."FOU"."CSIRFO" IS 'Code SIRET'; COMMENT ON COLUMN "ECO"."FOU"."TELXFO" IS 'No de telex'; COMMENT ON COLUMN "ECO"."FOU"."TELCFO" IS 'No de telecopie'; COMMENT ON COLUMN "ECO"."FOU"."NUCLFO" IS 'No de client'; COMMENT ON COLUMN "ECO"."FOU"."TYFOFO" IS 'Type Fournisseur'; COMMENT ON COLUMN "ECO"."FOU"."TRTXFO" IS 'Taux de transitaire'; COMMENT ON COLUMN "ECO"."FOU"."COPRFO" IS 'Code priorite'; COMMENT ON COLUMN "ECO"."FOU"."DEPAFO" IS 'Delai de Paiement'; COMMENT ON COLUMN "ECO"."FOU"."MTMIFO" IS 'Montant Minimum de Commande'; COMMENT ON COLUMN "ECO"."FOU"."ESCOFO" IS 'Escomptable'; COMMENT ON COLUMN "ECO"."FOU"."MUNHFO" IS 'Code Mutuelle Nationale des Hospitaliers'; COMMENT ON COLUMN "ECO"."FOU"."COM1FO" IS 'Commentaire No 1'; COMMENT ON COLUMN "ECO"."FOU"."COM2FO" IS 'Commentaire No 2'; COMMENT ON COLUMN "ECO"."FOU"."COM3FO" IS 'Commentaire No 3'; COMMENT ON COLUMN "ECO"."FOU"."CATEFO" IS 'Categorie'; COMMENT ON COLUMN "ECO"."FOU"."TCMPFO" IS 'Assujetti au Code des Marchés Publics'; COMMENT ON COLUMN "ECO"."FOU"."GACHFO" IS 'Groupement d''Achat (UGAP)'; COMMENT ON COLUMN "ECO"."FOU"."MAILFO" IS 'Adresse Electronique'; COMMENT ON COLUMN "ECO"."FOU"."EDCOFO" IS 'Edition du commentaire'; COMMENT ON COLUMN "ECO"."FOU"."EXTRFO" IS 'A extraire'; COMMENT ON COLUMN "ECO"."FOU"."MAJ_FO" IS 'Modifié ou Créé depuis la dernière Extraction'; COMMENT ON COLUMN "ECO"."FOU"."RAFPFO" IS 'Modèle rafp'; COMMENT ON COLUMN "ECO"."FOU"."HONOFO" IS 'Fournisseur à honoraire'; COMMENT ON COLUMN "ECO"."FOU"."EUROFO" IS 'Fournisseur européen'; COMMENT ON COLUMN "ECO"."FOU"."CREGFO" IS 'Code Régie'; COMMENT ON COLUMN "ECO"."FOU"."CATGFO" IS 'Type fournisseur TG'; COMMENT ON COLUMN "ECO"."FOU"."NATJFO" IS 'Nature Juridique TG'; COMMENT ON COLUMN "ECO"."FOU"."CSINFO" IS 'Code SIREN'; COMMENT ON COLUMN "ECO"."FOU"."CFINFO" IS 'Code Finess'; COMMENT ON COLUMN "ECO"."FOU"."CNIRFO" IS 'Code NIR'; COMMENT ON COLUMN "ECO"."FOU"."IDTGFO" IS 'Identifiant TG'; COMMENT ON COLUMN "ECO"."FOU"."PRENFO" IS 'Prénom'; COMMENT ON COLUMN "ECO"."FOU"."AL3SFO" IS 'Service'; COMMENT ON COLUMN "ECO"."FOU"."PAYSFO" IS 'Pays'; COMMENT ON COLUMN "ECO"."FOU"."NUDBFO" IS 'Débiteur associé'; COMMENT ON COLUMN "ECO"."FOU"."SITEFO" IS 'Site internet'; COMMENT ON COLUMN "ECO"."FOU"."NOTEFO" IS 'Note'; COMMENT ON COLUMN "ECO"."FOU"."NOAGFO" IS 'Numéro agrément'; COMMENT ON COLUMN "ECO"."FOU"."IDFAFO" IS 'Numéro Débiteur FAC'; COMMENT ON COLUMN "ECO"."FOU"."CHORFO" IS 'Assujetti à Chorus.'; COMMENT ON COLUMN "ECO"."FOU"."TIDCFO" IS 'Type d''identifiant Chorus.'; COMMENT ON COLUMN "ECO"."FOU"."IDCHFO" IS 'Identifiant Chorus.'; COMMENT ON COLUMN "ECO"."FOU"."CRIDFO" IS 'Code RIDET (Nouméa).'; COMMENT ON COLUMN "ECO"."FOU"."TVAIFO" IS 'Numéro de TVA intracommunautaire.'; COMMENT ON COLUMN "ECO"."FOU"."HSUEFO" IS 'Id. des fournisseurs hors U.E'; COMMENT ON COLUMN "ECO"."FOU"."ETIER_IDTITI" IS 'Identifiant Tiers'; COMMENT ON COLUMN "ECO"."FOU"."JOSPFO" IS 'Jour spécifique de paiement'; COMMENT ON COLUMN "ECO"."FOU"."DINTFO" IS 'Date intégration du fournisseur externe'; COMMENT ON TABLE "ECO"."FOU" IS 'Fournisseurs'; CREATE INDEX "ECO"."LIFOFO" ON "ECO"."FOU" ("LIFOFO") PCTFREE 50 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 262144 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) TABLESPACE "ECO" ; CREATE INDEX "ECO"."NUCLFO" ON "ECO"."FOU" ("NUCLFO") PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) TABLESPACE "ECO" ; CREATE OR REPLACE TRIGGER "ECO"."ET_FOU_A_R_IUD_H" AFTER DELETE OR INSERT OR UPDATE ON ECO.FOU REFERENCING NEW AS NEW OLD AS OLD FOR EACH ROW WHEN ( ( upper(USER) != 'CPAGE' or (upper(USER) = 'CPAGE' and sys_context('userenv','client_identifier') is not null) ) ) DECLARE IdRevision Number := EPK_TRACE.recupIdRevision; TpRevision Number(1); BEGIN IF (Deleting) THEN INSERT INTO FOU_H(IDRVN, TYPERVN, NUFOFO, LIFOFO, AL1SFO, AL2SFO, CPOSFO, BDISFO, TELEFO, LBU6FO, CPT6FO, LBU2FO, CPT2FO, CSIRFO, TELXFO, TELCFO, NUCLFO, TYFOFO, TRTXFO, COPRFO, DEPAFO, MTMIFO, VALIFO, ESCOFO, MUNHFO, COM1FO, COM2FO, COM3FO, CATEFO, TCMPFO, GACHFO, MAILFO, EDCOFO, EXTRFO, MAJ_FO, RAFPFO, HONOFO, EUROFO, CREGFO, CATGFO, NATJFO, CSINFO, CFINFO, CNIRFO, IDTGFO, PRENFO, AL3SFO, PAYSFO, NUDBFO, CIVIFO, SITEFO, NOTEFO, NOAGFO, CHORFO, TIDCFO, IDCHFO, CRIDFO, TVAIFO, HSUEFO, ETIER_IDTITI, JOSPFO, DINTFO) values (IdRevision,2, :old.NUFOFO, :old.LIFOFO, :old.AL1SFO, :old.AL2SFO, :old.CPOSFO, :old.BDISFO, :old.TELEFO, :old.LBU6FO, :old.CPT6FO, :old.LBU2FO, :old.CPT2FO, :old.CSIRFO, :old.TELXFO, :old.TELCFO, :old.NUCLFO, :old.TYFOFO, :old.TRTXFO, :old.COPRFO, :old.DEPAFO, :old.MTMIFO, :old.VALIFO, :old.ESCOFO, :old.MUNHFO, :old.COM1FO, :old.COM2FO, :old.COM3FO, :old.CATEFO, :old.TCMPFO, :old.GACHFO, :old.MAILFO, :old.EDCOFO, :old.EXTRFO, :old.MAJ_FO, :old.RAFPFO, :old.HONOFO, :old.EUROFO, :old.CREGFO, :old.CATGFO, :old.NATJFO, :old.CSINFO, :old.CFINFO, :old.CNIRFO, :old.IDTGFO, :old.PRENFO, :old.AL3SFO, :old.PAYSFO, :old.NUDBFO, :old.CIVIFO, :old.SITEFO, :old.NOTEFO, :old.NOAGFO, :old.CHORFO, :old.TIDCFO, :old.IDCHFO, :old.CRIDFO, :old.TVAIFO, :old.HSUEFO, :old.ETIER_IDTITI, :old.JOSPFO, :old.DINTFO); ELSE if (inserting) then tprevision := 0; else tprevision := 1; end if; INSERT INTO FOU_H(IDRVN, TYPERVN, NUFOFO, LIFOFO, AL1SFO, AL2SFO, CPOSFO, BDISFO, TELEFO, LBU6FO, CPT6FO, LBU2FO, CPT2FO, CSIRFO, TELXFO, TELCFO, NUCLFO, TYFOFO, TRTXFO, COPRFO, DEPAFO, MTMIFO, VALIFO, ESCOFO, MUNHFO, COM1FO, COM2FO, COM3FO, CATEFO, TCMPFO, GACHFO, MAILFO, EDCOFO, EXTRFO, MAJ_FO, RAFPFO, HONOFO, EUROFO, CREGFO, CATGFO, NATJFO, CSINFO, CFINFO, CNIRFO, IDTGFO, PRENFO, AL3SFO, PAYSFO, NUDBFO, CIVIFO, SITEFO, NOTEFO, NOAGFO, CHORFO, TIDCFO, IDCHFO, CRIDFO, TVAIFO, HSUEFO, ETIER_IDTITI, JOSPFO, DINTFO) values (IdRevision,tprevision, :new.NUFOFO, :new.LIFOFO, :new.AL1SFO, :new.AL2SFO, :new.CPOSFO, :new.BDISFO, :new.TELEFO, :new.LBU6FO, :new.CPT6FO, :new.LBU2FO, :new.CPT2FO, :new.CSIRFO, :new.TELXFO, :new.TELCFO, :new.NUCLFO, :new.TYFOFO, :new.TRTXFO, :new.COPRFO, :new.DEPAFO, :new.MTMIFO, :new.VALIFO, :new.ESCOFO, :new.MUNHFO, :new.COM1FO, :new.COM2FO, :new.COM3FO, :new.CATEFO, :new.TCMPFO, :new.GACHFO, :new.MAILFO, :new.EDCOFO, :new.EXTRFO, :new.MAJ_FO, :new.RAFPFO, :new.HONOFO, :new.EUROFO, :new.CREGFO, :new.CATGFO, :new.NATJFO, :new.CSINFO, :new.CFINFO, :new.CNIRFO, :new.IDTGFO, :new.PRENFO, :new.AL3SFO, :new.PAYSFO, :new.NUDBFO, :new.CIVIFO, :new.SITEFO, :new.NOTEFO, :new.NOAGFO, :new.CHORFO, :new.TIDCFO, :new.IDCHFO, :new.CRIDFO, :new.TVAIFO, :new.HSUEFO, :new.ETIER_IDTITI, :new.JOSPFO, :new.DINTFO); END IF; END ET_FOU_A_R_IUD_H; / ALTER TRIGGER "ECO"."ET_FOU_A_R_IUD_H" ENABLE; GRANT FLASHBACK ON "ECO"."FOU" TO PUBLIC WITH GRANT OPTION; GRANT DEBUG ON "ECO"."FOU" TO PUBLIC WITH GRANT OPTION; GRANT QUERY REWRITE ON "ECO"."FOU" TO PUBLIC WITH GRANT OPTION; GRANT ON COMMIT REFRESH ON "ECO"."FOU" TO PUBLIC WITH GRANT OPTION; GRANT REFERENCES ON "ECO"."FOU" TO PUBLIC WITH GRANT OPTION; GRANT UPDATE ON "ECO"."FOU" TO PUBLIC WITH GRANT OPTION; GRANT SELECT ON "ECO"."FOU" TO PUBLIC WITH GRANT OPTION; GRANT INSERT ON "ECO"."FOU" TO PUBLIC WITH GRANT OPTION; GRANT INDEX ON "ECO"."FOU" TO PUBLIC WITH GRANT OPTION; GRANT DELETE ON "ECO"."FOU" TO PUBLIC WITH GRANT OPTION; GRANT ALTER ON "ECO"."FOU" TO PUBLIC WITH GRANT OPTION;